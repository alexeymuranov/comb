%table.index
  %thead
    %tr
      - @attribute_headers.each do |header|
        %th
          = header
      %th{ :colspan => main_organiser_logged_in? ? 2 : 1 }/

  %tbody
    - @talks.each do |talk|
      %tr{ :id => "talk_#{ talk.id }" }
        - @attribute_procs.each do |p|
          %td
            &= p[talk]

        %td
          %a.button.show{ :href => fixed_url_with_locale("/#{ ORG_PAGE_PREFIX }talks/#{ talk.id }") }<
            = t 'actions.show'

        - if main_organiser_logged_in?
          %td
            %a.button.edit{ :href => fixed_url_with_locale("/#{ ORG_PAGE_PREFIX }talks/#{ talk.id }/edit") }<
              = t 'actions.update'

- if main_organiser_logged_in?
  %a.button.new{ :href => fixed_url_with_locale("/#{ ORG_PAGE_PREFIX }talks/new"),
                 :role => 'button' }<
    = t 'actions.add'
